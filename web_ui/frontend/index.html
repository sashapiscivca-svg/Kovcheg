<!DOCTYPE html>
<html lang="uk" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–û–í–ß–ï–ì | –¢–µ—Ä–º—ñ–Ω–∞–ª –∑–Ω–∞–Ω—å</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

    <div id="splash-screen">
        <div class="splash-logo">–ö–û–í–ß–ï–ì</div>
        <div class="splash-tagline">–Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø –Ø–î–†–ê...</div>
    </div>

    <div class="app-shell" id="app-shell">
        
        <aside class="sidebar">
            <div class="brand">
                <div class="brand-icon">K</div>
                <div class="brand-text">–ö–û–í–ß–ï–ì <span style="font-size:0.6rem; opacity:0.5; font-weight:400; margin-left:5px;">v0.1</span></div>
            </div>

            <button class="btn-primary full-width" onclick="location.reload()" style="margin-bottom: 20px; background: var(--bg-card); border: 1px solid var(--border-color); color: var(--text-primary);">
                + –ù–æ–≤–∏–π –°–µ–∞–Ω—Å
            </button>

            <div class="nav-section-label" style="font-size:0.7rem; color:var(--text-tertiary); margin-bottom:10px; font-weight:700; letter-spacing: 0.05em;">DATA CORE</div>
            
            <div class="nav-list" id="modules-list" style="flex:1; overflow-y:auto; margin-bottom:20px; min-height: 100px;">
                <div class="loading-text" style="font-size:0.8rem;">Scanning ark modules...</div>
            </div>

            <div class="telemetry-panel">
                <div class="nav-section-label" style="font-size:0.65rem; color:var(--text-tertiary); margin-bottom:10px; font-weight:700;">SYSTEM TELEMETRY</div>
                
                <div class="tele-row">
                    <span>STATUS</span>
                    <span class="tele-val" style="color:var(--success-color)">ONLINE</span>
                </div>
                <div class="tele-row">
                    <span>LLM ENGINE</span>
                    <span class="tele-val">Qwen 2.5 3B</span>
                </div>
                <div class="tele-row">
                    <span>RAM USAGE</span>
                    <span class="tele-val">3.2 GB</span>
                </div>
                <div class="tele-row">
                    <span>VECTOR DB</span>
                    <span class="tele-val">MOUNTED</span>
                </div>

                <div class="tele-bar">
                    <div class="tele-fill"></div>
                </div>
            </div>

            <div class="sidebar-footer">
                <div class="nav-list">
                    <button class="nav-item" onclick="App.switchView('packages')">
                        <span class="icon">üì¶</span> –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç—ñ–≤
                    </button>
                    <button class="nav-item" onclick="App.switchView('settings')">
                        <span class="icon">‚öôÔ∏è</span> –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
                    </button>
                </div>

                <div class="user-profile" onclick="App.toggleTheme()" style="margin-top: 15px;">
                    <div class="avatar" style="background: #374151;">OP</div>
                    <div class="user-info">
                        <span class="user-name" style="font-family: var(--font-mono);">OPERATOR_01</span>
                        <span class="user-role">ADMIN ACCESS</span>
                    </div>
                </div>
            </div>
        </aside>

        <main class="main-content">
            
            <div id="view-packages" class="view-container hidden">
                <div class="view-header fade-enter">
                    <div>
                        <h2 class="page-title">–õ–æ–∫–∞–ª—å–Ω—ñ –ú–æ–¥—É–ª—ñ</h2>
                        <div class="page-subtitle">–ö–µ—Ä—É–≤–∞–Ω–Ω—è –±–∞–∑–æ—é –∑–Ω–∞–Ω—å</div>
                    </div>
                    <button class="btn-secondary" onclick="App.loadModules()">‚Üª –û–Ω–æ–≤–∏—Ç–∏</button>
                </div>
                <div id="packages-grid" class="packages-grid fade-enter">
                    <p class="loading-text">–ü–æ—à—É–∫ –º–æ–¥—É–ª—ñ–≤...</p>
                </div>
            </div>

            <div id="view-chat" class="view-container active" style="padding:0; overflow:hidden; display:flex; flex-direction:column; height:100%;">
                
                <div class="chat-header">
                    <div class="header-info">
                        <h2 id="active-chat-title" style="margin:0; font-size:1.1rem; font-family: var(--font-mono);">TERMINAL</h2>
                        <div class="active-module-label" id="module-indicator" style="font-size:0.8rem; color:var(--text-secondary);">
                            <span class="status-dot online"></span> Awaiting input...
                        </div>
                    </div>
                </div>

                <div id="chat-history" class="chat-history" style="flex:1; overflow-y:auto; padding:20px;">
                    <div class="msg system">
                        <div class="msg-avatar">ü§ñ</div>
                        <div class="msg-bubble">–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞. –û–±–µ—Ä—ñ—Ç—å –º–æ–¥—É–ª—å —É –±–ª–æ—Ü—ñ <b>DATA CORE</b> –¥–ª—è –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏.</div>
                    </div>
                </div>

                <div id="citation-panel" class="citation-panel hidden">
                    <div class="citation-header">
                        <span>üìö –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:</span>
                        <button class="close-citations" onclick="App.hideCitations()">‚úï</button>
                    </div>
                    <div id="citation-content" class="citation-content"></div>
                </div>

                <div class="chat-input-wrapper" style="flex-shrink:0;">
                    <div class="input-box">
                        <input type="file" id="file-upload" style="display: none;" onchange="App.uploadFile(this)">
                        
                        <button class="btn-icon" onclick="document.getElementById('file-upload').click()" title="–î–æ–¥–∞—Ç–∏ —Ñ–∞–π–ª" style="background:none; border:none; cursor:pointer; color:var(--text-secondary);">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>
                        </button>

                        <textarea id="chat-input" placeholder="–í–≤–µ–¥—ñ—Ç—å –∑–∞–ø–∏—Ç –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö..." rows="1"></textarea>
                        
                        <button id="send-btn" onclick="App.sendMessage()" class="btn-send">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                        </button>
                    </div>
                </div>

            </div>

            <div id="view-settings" class="view-container hidden">
                <div class="view-header fade-enter">
                    <h2 class="page-title">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
                </div>
                <div class="settings-form">
                    <div class="form-group">
                        <label>API Host</label>
                        <input type="text" value="/api/v1" readonly class="input-readonly">
                    </div>
                </div>
            </div>

        </main>

        <div class="toast" id="toast">
            <span class="toast-icon">‚úì</span>
            <span id="toast-msg">–ì–æ—Ç–æ–≤–æ</span>
        </div>

    </div>

    <div id="inspector" class="inspector-panel">
        <div class="inspector-header">
            <h3 style="margin:0;">Module Details</h3>
            <button onclick="App.closeInspector()" style="background:none; border:none; cursor:pointer; font-size:1.2rem;">‚úï</button>
        </div>
        <div class="prop-group">
            <div class="prop-label">Title</div>
            <div class="prop-value" id="ins-title">Unknown</div>
        </div>
        <div class="prop-group">
            <div class="prop-label">UUID</div>
            <div class="prop-value mono" id="ins-id">...</div>
        </div>
        <div class="prop-group">
            <div class="prop-label">Version</div>
            <div class="prop-value" id="ins-version">...</div>
        </div>
        <button class="btn-primary" onclick="App.activateCurrentPackage()">–ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ —Ü–µ–π –º–æ–¥—É–ª—å</button>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
