# üõ≥Ô∏è Kovcheg: –ü–æ–≤–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫ –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (Deployment Guide)

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –º—ñ—Å—Ç–∏—Ç—å –≤–∏—á–µ—Ä–ø–Ω—É –ø–æ–∫—Ä–æ–∫–æ–≤—É —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—ó RAG-—Å–∏—Å—Ç–µ–º–∏ **Kovcheg** –Ω–∞ —á–∏—Å—Ç–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ (Ubuntu/Debian, CentOS –∞–±–æ macOS) –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å–∏—Ä—Ü–µ–≤–æ–≥–æ –∫–æ–¥—É –∑ GitHub.

-----

## üìã –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –í–∏–º–æ–≥–∏ (Prerequisites)

–ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º —Ä–æ–±–æ—Ç–∏ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞—Å—Ç—É–ø–Ω–∏–º –≤–∏–º–æ–≥–∞–º:

  * **–û–°:** Linux (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ), macOS –∞–±–æ Windows (WSL2).
  * **Git:** –î–ª—è –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.
  * **Docker Engine** (v20.10+) —Ç–∞ **Docker Compose** (v2.0+).
  * **–†–µ—Å—É—Ä—Å–∏:** –ú—ñ–Ω—ñ–º—É–º 4-8 GB RAM —Ç–∞ \~10 GB –≤—ñ–ª—å–Ω–æ–≥–æ –º—ñ—Å—Ü—è –Ω–∞ –¥–∏—Å–∫—É (–¥–ª—è Docker –æ–±—Ä–∞–∑—ñ–≤ —Ç–∞ LLM –º–æ–¥–µ–ª—ñ).

-----

## üöÄ –ï—Ç–∞–ø 1: –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ö–æ–¥—É (Import)

–ü–µ—Ä—à–∏–π –∫—Ä–æ–∫ ‚Äî –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó –∫–æ–¥—É –Ω–∞ –≤–∞—à –ª–æ–∫–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä.

### 1.1 –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `git` –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –ø—Ä–æ—î–∫—Ç—É —É –Ω–æ–≤—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é:

```bash
git clone https://github.com/sashapiscivca-svg/kovcheg.git

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º–æ –≤ –ø–∞–ø–∫—É –ø—Ä–æ—î–∫—Ç—É
cd kovcheg
```

> **‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ –¥–ª—è Windows –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:** –ü–µ—Ä–µ–¥ –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è–º –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ Git –Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è UNIX-style –ø–µ—Ä–µ–Ω–æ—Å—ñ–≤ —Ä—è–¥–∫—ñ–≤ (LF), —ñ–Ω–∞–∫—à–µ —Å–∫—Ä–∏–ø—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Docker –º–æ–∂—É—Ç—å –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏—Å—è:
> `git config --global core.autocrlf input`

-----

## ‚öôÔ∏è –ï—Ç–∞–ø 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –°–µ—Ä–µ–¥–æ–≤–∏—â–∞ (Configuration)

Kovcheg –ø–æ—Ç—Ä–µ–±—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π —Ç–∞ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ —Ç–æ–º—ñ–≤ (volumes) Docker.

### 2.1 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π

–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞–ø–∫–∏, —è–∫—ñ –±—É–¥—É—Ç—å –∑–º–æ–Ω—Ç–æ–≤–∞–Ω—ñ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:

```bash
# data: —Ç—É—Ç –±—É–¥—É—Ç—å –ª–µ–∂–∞—Ç–∏ –≥–æ—Ç–æ–≤—ñ –º–æ–¥—É–ª—ñ .ark —Ç–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —á–∞—Ç—ñ–≤
# sources: —Å—é–¥–∏ –≤–∏ –∫–ª–∞–¥–µ—Ç–µ –≤—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏ (PDF, DOCX) –¥–ª—è –æ–±—Ä–æ–±–∫–∏
# models_cache: –∫–µ—à –¥–ª—è GGUF —Ñ–∞–π–ª—ñ–≤ LLM
mkdir -p data sources models_cache
```

–¢–∞–∫–æ–∂ —Å—Ç–≤–æ—Ä—ñ—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –¥–ª—è –∫–ª—é—á—ñ–≤ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞ –ø–∞–∫–µ—Ç—ñ–≤ (—è–∫—â–æ –ø–ª–∞–Ω—É—î—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ CLI –Ω–∞ —Ö–æ—Å—Ç—ñ):

```bash
mkdir -p ~/.kovcheg/security/keys
mkdir -p ~/.kovcheg/ark_store/packages
```

### 2.2 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö (.env)

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∑–∞–ø—É—Å–∫—É:

```bash
cat <<EOF > .env
# –ú–µ—Ä–µ–∂–µ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
API_HOST=0.0.0.0
API_PORT=8000

# –®–ª—è—Ö–∏ (–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
ARK_MODULES_PATH=/app/data

# –ü–æ–ª—ñ—Ç–∏–∫–∞ –±–µ–∑–ø–µ–∫–∏ (false = –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –Ω–µ–ø—ñ–¥–ø–∏—Å–∞–Ω—ñ –º–æ–¥—É–ª—ñ)
ALLOW_UNTRUSTED=true
EOF
```

-----

## üß† –ï—Ç–∞–ø 3: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è AI –ú–æ–¥–µ–ª—ñ

–°–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω—É –º–æ–¥–µ–ª—å **Qwen 2.5 3B Instruct** (—Ñ–æ—Ä–º–∞—Ç GGUF). –á—ó –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–µ—Ä–µ–¥ –∑–±—ñ—Ä–∫–æ—é –æ–±—Ä–∞–∑—É, —â–æ–± Docker –º—ñ–≥ —ó—ó –∑–∞–∫–µ—à—É–≤–∞—Ç–∏ –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ.

–í–∏–∫–æ–Ω–∞–π—Ç–µ –≤–±—É–¥–æ–≤–∞–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

```bash
# –Ø–∫—â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ Python 3 –ª–æ–∫–∞–ª—å–Ω–æ:
python3 download_model.py

# –ê–ë–û –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –≤—Ä—É—á–Ω—É (—è–∫—â–æ Python –≤—ñ–¥—Å—É—Ç–Ω—ñ–π):
# curl -L -o models_cache/qwen2.5-3b-instruct.gguf \
# https://huggingface.co/bartowski/Qwen2.5-3B-Instruct-GGUF/resolve/main/Qwen2.5-3B-Instruct-Q4_K_M.gguf
```

> **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ–∞–π–ª `qwen2.5-3b-instruct.gguf` –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è —É –ø–∞–ø—Ü—ñ `models_cache/`.

-----

## üê≥ –ï—Ç–∞–ø 4: –ó–∞–ø—É—Å–∫ –°–∏—Å—Ç–µ–º–∏ (Docker Launch)

–ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Docker Compose –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—É (–≤–∫–ª—é—á–∞—é—á–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—é `llama-cpp-python` –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é OpenBLAS —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è `tesseract-ocr`).

### 4.1 –ó–±—ñ—Ä–∫–∞ —Ç–∞ —Å—Ç–∞—Ä—Ç

```bash
docker compose up -d --build
```

### 4.2 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `kovcheg_core` –ø—Ä–∞—Ü—é—î:

```bash
docker compose ps
# –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å "Up" —ñ –ø–æ—Ä—Ç "0.0.0.0:8000->8000/tcp"
```

–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏, —â–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —É –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –ø–æ–º–∏–ª–æ–∫:

```bash
docker compose logs -f kovcheg
```

-----

## ‚úÖ –ï—Ç–∞–ø 5: –ü–µ—Ä—à—ñ –ö—Ä–æ–∫–∏

–¢–µ–ø–µ—Ä –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ **Kovcheg** –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∞ –¥–æ —Ä–æ–±–æ—Ç–∏.

### üåê –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä —Ç–∞ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
üëâ **http://localhost:8000**

### üß™ –¢–µ—Å—Ç–æ–≤–∏–π –ø—Ä–æ–≥–æ–Ω (Smoke Test)

–°–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–≤—ñ–π –ø–µ—Ä—à–∏–π –º–æ–¥—É–ª—å –∑–Ω–∞–Ω—å:

1.  –ü–æ–∫–ª–∞–¥—ñ—Ç—å –±—É–¥—å-—è–∫–∏–π PDF –∞–±–æ TXT —Ñ–∞–π–ª —É –ø–∞–ø–∫—É `sources/`.
2.  –í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–±—ñ—Ä–∫–∏ —á–µ—Ä–µ–∑ Docker:

<!-- end list -->

```bash
docker compose run --rm kovcheg python -m ark_engine.cli.main build \
  /app/sources \
  --output /app/data/demo.ark.json \
  --title "Demo Knowledge Base"
```

3.  –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å ("üì¶ –ë–∞–∑–∞ –∑–Ω–∞–Ω—å") —Ç–∞ –∞–∫—Ç–∏–≤—É–π—Ç–µ –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å.

-----

## üÜò –í–∏—Ä—ñ—à–µ–Ω–Ω—è –¢–∏–ø–æ–≤–∏—Ö –ü—Ä–æ–±–ª–µ–º

  * **–ü–æ–º–∏–ª–∫–∞ `Model not found`**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –Ω–µ –ø—É—Å—Ç–∞ –ø–∞–ø–∫–∞ `models_cache` —ñ —á–∏ –º–∞—î —Ñ–∞–π–ª –Ω–∞–∑–≤—É `qwen2.5-3b-instruct.gguf`.
  * **–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É (Permission Denied)**: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø–∞–ø–∫–∏ `data` —Ç–∞ `sources` –¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –∑–∞–ø–∏—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É Docker. –í–∏–∫–æ–Ω–∞–π—Ç–µ `chmod -R 777 data sources` (–¥–ª—è development —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞).
  * **OCR –Ω–µ —á–∏—Ç–∞—î –∫–∏—Ä–∏–ª–∏—Ü—é**: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤ Dockerfile –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø–∞–∫–µ—Ç `tesseract-ocr-ukr`.
